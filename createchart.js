var script = document.createElement('script');
script.src = './jquery-1.9.0.min.js';
script.type = 'text/javascript';
document.getElementsByTagName('head')[0].appendChild(script);
var layers = [{"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 43, "x": 2}, {"y": 52, "x": 3}, {"y": 12, "x": 4}, {"y": 15, "x": 5}, {"y": 0, "x": 6}, {"y": 9, "x": 7}, {"y": 26, "x": 8}, {"y": 12, "x": 9}, {"y": 7, "x": 10}, {"y": 15, "x": 11}, {"y": 1, "x": 12}, {"y": 1, "x": 13}, {"y": 1, "x": 14}, {"y": 0, "x": 15}, {"y": 6, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 0, "x": 19}, {"y": 0, "x": 20}, {"y": 1, "x": 21}, {"y": 4, "x": 22}, {"y": 2, "x": 23}, {"y": 4, "x": 24}, {"y": 8, "x": 25}, {"y": 4, "x": 26}, {"y": 2, "x": 27}, {"y": 3, "x": 28}, {"y": 1, "x": 29}, {"y": 0, "x": 30}, {"y": 3, "x": 31}, {"y": 3, "x": 32}, {"y": 3, "x": 33}, {"y": 1, "x": 34}, {"y": 3, "x": 35}, {"y": 0, "x": 36}, {"y": 0, "x": 37}, {"y": 0, "x": 38}, {"y": 2, "x": 39}, {"y": 0, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 1, "x": 44}, {"y": 0, "x": 45}, {"y": 0, "x": 46}, {"y": 0, "x": 47}, {"y": 0, "x": 48}], "name": "Portugal. The Man"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 7, "x": 2}, {"y": 3, "x": 3}, {"y": 11, "x": 4}, {"y": 33, "x": 5}, {"y": 1, "x": 6}, {"y": 0, "x": 7}, {"y": 7, "x": 8}, {"y": 4, "x": 9}, {"y": 6, "x": 10}, {"y": 5, "x": 11}, {"y": 1, "x": 12}, {"y": 1, "x": 13}, {"y": 3, "x": 14}, {"y": 2, "x": 15}, {"y": 13, "x": 16}, {"y": 0, "x": 17}, {"y": 1, "x": 18}, {"y": 0, "x": 19}, {"y": 10, "x": 20}, {"y": 4, "x": 21}, {"y": 3, "x": 22}, {"y": 41, "x": 23}, {"y": 8, "x": 24}, {"y": 11, "x": 25}, {"y": 8, "x": 26}, {"y": 18, "x": 27}, {"y": 3, "x": 28}, {"y": 16, "x": 29}, {"y": 1, "x": 30}, {"y": 1, "x": 31}, {"y": 4, "x": 32}, {"y": 2, "x": 33}, {"y": 1, "x": 34}, {"y": 1, "x": 35}, {"y": 0, "x": 36}, {"y": 14, "x": 37}, {"y": 0, "x": 38}, {"y": 2, "x": 39}, {"y": 2, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 2, "x": 44}, {"y": 1, "x": 45}, {"y": 0, "x": 46}, {"y": 0, "x": 47}, {"y": 8, "x": 48}], "name": "Bright Eyes"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 0, "x": 3}, {"y": 33, "x": 4}, {"y": 34, "x": 5}, {"y": 5, "x": 6}, {"y": 0, "x": 7}, {"y": 36, "x": 8}, {"y": 11, "x": 9}, {"y": 13, "x": 10}, {"y": 9, "x": 11}, {"y": 5, "x": 12}, {"y": 4, "x": 13}, {"y": 15, "x": 14}, {"y": 3, "x": 15}, {"y": 5, "x": 16}, {"y": 1, "x": 17}, {"y": 1, "x": 18}, {"y": 0, "x": 19}, {"y": 0, "x": 20}, {"y": 5, "x": 21}, {"y": 3, "x": 22}, {"y": 0, "x": 23}, {"y": 2, "x": 24}, {"y": 6, "x": 25}, {"y": 4, "x": 26}, {"y": 2, "x": 27}, {"y": 5, "x": 28}, {"y": 2, "x": 29}, {"y": 0, "x": 30}, {"y": 1, "x": 31}, {"y": 2, "x": 32}, {"y": 3, "x": 33}, {"y": 0, "x": 34}, {"y": 19, "x": 35}, {"y": 0, "x": 36}, {"y": 20, "x": 37}, {"y": 21, "x": 38}, {"y": 0, "x": 39}, {"y": 1, "x": 40}, {"y": 0, "x": 41}, {"y": 1, "x": 42}, {"y": 0, "x": 43}, {"y": 2, "x": 44}, {"y": 1, "x": 45}, {"y": 0, "x": 46}, {"y": 0, "x": 47}, {"y": 0, "x": 48}], "name": "Andrew Bird"}, {"values": [{"y": 5, "x": 0}, {"y": 13, "x": 1}, {"y": 5, "x": 2}, {"y": 5, "x": 3}, {"y": 1, "x": 4}, {"y": 12, "x": 5}, {"y": 12, "x": 6}, {"y": 6, "x": 7}, {"y": 3, "x": 8}, {"y": 28, "x": 9}, {"y": 4, "x": 10}, {"y": 17, "x": 11}, {"y": 13, "x": 12}, {"y": 11, "x": 13}, {"y": 1, "x": 14}, {"y": 1, "x": 15}, {"y": 3, "x": 16}, {"y": 0, "x": 17}, {"y": 1, "x": 18}, {"y": 1, "x": 19}, {"y": 7, "x": 20}, {"y": 9, "x": 21}, {"y": 18, "x": 22}, {"y": 2, "x": 23}, {"y": 3, "x": 24}, {"y": 16, "x": 25}, {"y": 1, "x": 26}, {"y": 3, "x": 27}, {"y": 3, "x": 28}, {"y": 1, "x": 29}, {"y": 0, "x": 30}, {"y": 1, "x": 31}, {"y": 2, "x": 32}, {"y": 5, "x": 33}, {"y": 0, "x": 34}, {"y": 0, "x": 35}, {"y": 0, "x": 36}, {"y": 5, "x": 37}, {"y": 10, "x": 38}, {"y": 5, "x": 39}, {"y": 0, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 1, "x": 44}, {"y": 5, "x": 45}, {"y": 0, "x": 46}, {"y": 0, "x": 47}, {"y": 1, "x": 48}], "name": "Ti\u00ebsto"}, {"values": [{"y": 50, "x": 0}, {"y": 32, "x": 1}, {"y": 24, "x": 2}, {"y": 30, "x": 3}, {"y": 28, "x": 4}, {"y": 13, "x": 5}, {"y": 3, "x": 6}, {"y": 0, "x": 7}, {"y": 2, "x": 8}, {"y": 6, "x": 9}, {"y": 4, "x": 10}, {"y": 0, "x": 11}, {"y": 0, "x": 12}, {"y": 0, "x": 13}, {"y": 0, "x": 14}, {"y": 1, "x": 15}, {"y": 0, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 0, "x": 19}, {"y": 0, "x": 20}, {"y": 0, "x": 21}, {"y": 3, "x": 22}, {"y": 3, "x": 23}, {"y": 1, "x": 24}, {"y": 3, "x": 25}, {"y": 13, "x": 26}, {"y": 3, "x": 27}, {"y": 1, "x": 28}, {"y": 7, "x": 29}, {"y": 0, "x": 30}, {"y": 2, "x": 31}, {"y": 0, "x": 32}, {"y": 5, "x": 33}, {"y": 2, "x": 34}, {"y": 1, "x": 35}, {"y": 1, "x": 36}, {"y": 2, "x": 37}, {"y": 21, "x": 38}, {"y": 7, "x": 39}, {"y": 3, "x": 40}, {"y": 0, "x": 41}, {"y": 1, "x": 42}, {"y": 0, "x": 43}, {"y": 3, "x": 44}, {"y": 1, "x": 45}, {"y": 7, "x": 46}, {"y": 0, "x": 47}, {"y": 1, "x": 48}], "name": "Belle and Sebastian"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 5, "x": 3}, {"y": 10, "x": 4}, {"y": 9, "x": 5}, {"y": 0, "x": 6}, {"y": 0, "x": 7}, {"y": 1, "x": 8}, {"y": 9, "x": 9}, {"y": 3, "x": 10}, {"y": 5, "x": 11}, {"y": 1, "x": 12}, {"y": 3, "x": 13}, {"y": 1, "x": 14}, {"y": 1, "x": 15}, {"y": 2, "x": 16}, {"y": 1, "x": 17}, {"y": 2, "x": 18}, {"y": 14, "x": 19}, {"y": 1, "x": 20}, {"y": 54, "x": 21}, {"y": 8, "x": 22}, {"y": 26, "x": 23}, {"y": 9, "x": 24}, {"y": 0, "x": 25}, {"y": 8, "x": 26}, {"y": 10, "x": 27}, {"y": 3, "x": 28}, {"y": 6, "x": 29}, {"y": 0, "x": 30}, {"y": 1, "x": 31}, {"y": 3, "x": 32}, {"y": 1, "x": 33}, {"y": 2, "x": 34}, {"y": 0, "x": 35}, {"y": 10, "x": 36}, {"y": 9, "x": 37}, {"y": 21, "x": 38}, {"y": 10, "x": 39}, {"y": 6, "x": 40}, {"y": 0, "x": 41}, {"y": 4, "x": 42}, {"y": 0, "x": 43}, {"y": 1, "x": 44}, {"y": 1, "x": 45}, {"y": 10, "x": 46}, {"y": 9, "x": 47}, {"y": 7, "x": 48}], "name": "Bon Iver"}, {"values": [{"y": 0, "x": 0}, {"y": 4, "x": 1}, {"y": 3, "x": 2}, {"y": 2, "x": 3}, {"y": 3, "x": 4}, {"y": 2, "x": 5}, {"y": 0, "x": 6}, {"y": 0, "x": 7}, {"y": 0, "x": 8}, {"y": 1, "x": 9}, {"y": 1, "x": 10}, {"y": 1, "x": 11}, {"y": 0, "x": 12}, {"y": 1, "x": 13}, {"y": 0, "x": 14}, {"y": 2, "x": 15}, {"y": 0, "x": 16}, {"y": 1, "x": 17}, {"y": 0, "x": 18}, {"y": 8, "x": 19}, {"y": 1, "x": 20}, {"y": 7, "x": 21}, {"y": 4, "x": 22}, {"y": 4, "x": 23}, {"y": 35, "x": 24}, {"y": 7, "x": 25}, {"y": 17, "x": 26}, {"y": 4, "x": 27}, {"y": 4, "x": 28}, {"y": 25, "x": 29}, {"y": 6, "x": 30}, {"y": 1, "x": 31}, {"y": 25, "x": 32}, {"y": 16, "x": 33}, {"y": 32, "x": 34}, {"y": 11, "x": 35}, {"y": 0, "x": 36}, {"y": 1, "x": 37}, {"y": 16, "x": 38}, {"y": 20, "x": 39}, {"y": 0, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 8, "x": 44}, {"y": 8, "x": 45}, {"y": 12, "x": 46}, {"y": 1, "x": 47}, {"y": 0, "x": 48}], "name": "DeVotchKa"}, {"values": [{"y": 40, "x": 0}, {"y": 22, "x": 1}, {"y": 15, "x": 2}, {"y": 8, "x": 3}, {"y": 13, "x": 4}, {"y": 11, "x": 5}, {"y": 0, "x": 6}, {"y": 2, "x": 7}, {"y": 2, "x": 8}, {"y": 6, "x": 9}, {"y": 12, "x": 10}, {"y": 1, "x": 11}, {"y": 1, "x": 12}, {"y": 0, "x": 13}, {"y": 2, "x": 14}, {"y": 5, "x": 15}, {"y": 0, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 0, "x": 19}, {"y": 0, "x": 20}, {"y": 0, "x": 21}, {"y": 22, "x": 22}, {"y": 3, "x": 23}, {"y": 3, "x": 24}, {"y": 5, "x": 25}, {"y": 10, "x": 26}, {"y": 2, "x": 27}, {"y": 9, "x": 28}, {"y": 2, "x": 29}, {"y": 2, "x": 30}, {"y": 0, "x": 31}, {"y": 4, "x": 32}, {"y": 5, "x": 33}, {"y": 0, "x": 34}, {"y": 1, "x": 35}, {"y": 0, "x": 36}, {"y": 2, "x": 37}, {"y": 1, "x": 38}, {"y": 62, "x": 39}, {"y": 3, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 2, "x": 44}, {"y": 1, "x": 45}, {"y": 0, "x": 46}, {"y": 0, "x": 47}, {"y": 0, "x": 48}], "name": "The Killers"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 0, "x": 3}, {"y": 42, "x": 4}, {"y": 46, "x": 5}, {"y": 18, "x": 6}, {"y": 0, "x": 7}, {"y": 11, "x": 8}, {"y": 14, "x": 9}, {"y": 17, "x": 10}, {"y": 4, "x": 11}, {"y": 5, "x": 12}, {"y": 0, "x": 13}, {"y": 1, "x": 14}, {"y": 27, "x": 15}, {"y": 7, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 0, "x": 19}, {"y": 20, "x": 20}, {"y": 10, "x": 21}, {"y": 6, "x": 22}, {"y": 2, "x": 23}, {"y": 3, "x": 24}, {"y": 7, "x": 25}, {"y": 1, "x": 26}, {"y": 9, "x": 27}, {"y": 3, "x": 28}, {"y": 3, "x": 29}, {"y": 1, "x": 30}, {"y": 3, "x": 31}, {"y": 1, "x": 32}, {"y": 28, "x": 33}, {"y": 0, "x": 34}, {"y": 0, "x": 35}, {"y": 0, "x": 36}, {"y": 0, "x": 37}, {"y": 0, "x": 38}, {"y": 0, "x": 39}, {"y": 0, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 11, "x": 44}, {"y": 1, "x": 45}, {"y": 0, "x": 46}, {"y": 0, "x": 47}, {"y": 0, "x": 48}], "name": "Coconut Records"}, {"values": [{"y": 1, "x": 0}, {"y": 1, "x": 1}, {"y": 3, "x": 2}, {"y": 4, "x": 3}, {"y": 1, "x": 4}, {"y": 3, "x": 5}, {"y": 1, "x": 6}, {"y": 0, "x": 7}, {"y": 1, "x": 8}, {"y": 40, "x": 9}, {"y": 28, "x": 10}, {"y": 21, "x": 11}, {"y": 1, "x": 12}, {"y": 1, "x": 13}, {"y": 11, "x": 14}, {"y": 5, "x": 15}, {"y": 3, "x": 16}, {"y": 1, "x": 17}, {"y": 0, "x": 18}, {"y": 1, "x": 19}, {"y": 8, "x": 20}, {"y": 11, "x": 21}, {"y": 85, "x": 22}, {"y": 30, "x": 23}, {"y": 10, "x": 24}, {"y": 18, "x": 25}, {"y": 3, "x": 26}, {"y": 8, "x": 27}, {"y": 5, "x": 28}, {"y": 0, "x": 29}, {"y": 2, "x": 30}, {"y": 2, "x": 31}, {"y": 4, "x": 32}, {"y": 2, "x": 33}, {"y": 0, "x": 34}, {"y": 0, "x": 35}, {"y": 0, "x": 36}, {"y": 25, "x": 37}, {"y": 3, "x": 38}, {"y": 1, "x": 39}, {"y": 0, "x": 40}, {"y": 0, "x": 41}, {"y": 1, "x": 42}, {"y": 1, "x": 43}, {"y": 0, "x": 44}, {"y": 0, "x": 45}, {"y": 0, "x": 46}, {"y": 0, "x": 47}, {"y": 1, "x": 48}], "name": "The Cat Empire"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 0, "x": 3}, {"y": 0, "x": 4}, {"y": 0, "x": 5}, {"y": 0, "x": 6}, {"y": 0, "x": 7}, {"y": 0, "x": 8}, {"y": 0, "x": 9}, {"y": 0, "x": 10}, {"y": 0, "x": 11}, {"y": 4, "x": 12}, {"y": 0, "x": 13}, {"y": 0, "x": 14}, {"y": 0, "x": 15}, {"y": 0, "x": 16}, {"y": 2, "x": 17}, {"y": 1, "x": 18}, {"y": 0, "x": 19}, {"y": 1, "x": 20}, {"y": 166, "x": 21}, {"y": 15, "x": 22}, {"y": 24, "x": 23}, {"y": 30, "x": 24}, {"y": 12, "x": 25}, {"y": 14, "x": 26}, {"y": 12, "x": 27}, {"y": 5, "x": 28}, {"y": 9, "x": 29}, {"y": 3, "x": 30}, {"y": 6, "x": 31}, {"y": 8, "x": 32}, {"y": 1, "x": 33}, {"y": 5, "x": 34}, {"y": 9, "x": 35}, {"y": 10, "x": 36}, {"y": 4, "x": 37}, {"y": 1, "x": 38}, {"y": 4, "x": 39}, {"y": 2, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 0, "x": 44}, {"y": 2, "x": 45}, {"y": 1, "x": 46}, {"y": 0, "x": 47}, {"y": 0, "x": 48}], "name": "Regina Spektor"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 0, "x": 3}, {"y": 0, "x": 4}, {"y": 0, "x": 5}, {"y": 0, "x": 6}, {"y": 0, "x": 7}, {"y": 0, "x": 8}, {"y": 0, "x": 9}, {"y": 0, "x": 10}, {"y": 0, "x": 11}, {"y": 0, "x": 12}, {"y": 0, "x": 13}, {"y": 0, "x": 14}, {"y": 0, "x": 15}, {"y": 0, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 0, "x": 19}, {"y": 0, "x": 20}, {"y": 0, "x": 21}, {"y": 0, "x": 22}, {"y": 0, "x": 23}, {"y": 0, "x": 24}, {"y": 0, "x": 25}, {"y": 0, "x": 26}, {"y": 0, "x": 27}, {"y": 62, "x": 28}, {"y": 27, "x": 29}, {"y": 4, "x": 30}, {"y": 5, "x": 31}, {"y": 15, "x": 32}, {"y": 30, "x": 33}, {"y": 13, "x": 34}, {"y": 45, "x": 35}, {"y": 11, "x": 36}, {"y": 36, "x": 37}, {"y": 27, "x": 38}, {"y": 42, "x": 39}, {"y": 14, "x": 40}, {"y": 0, "x": 41}, {"y": 12, "x": 42}, {"y": 2, "x": 43}, {"y": 6, "x": 44}, {"y": 7, "x": 45}, {"y": 0, "x": 46}, {"y": 4, "x": 47}, {"y": 0, "x": 48}], "name": "Young the Giant"}, {"values": [{"y": 36, "x": 0}, {"y": 42, "x": 1}, {"y": 25, "x": 2}, {"y": 19, "x": 3}, {"y": 4, "x": 4}, {"y": 3, "x": 5}, {"y": 4, "x": 6}, {"y": 0, "x": 7}, {"y": 4, "x": 8}, {"y": 8, "x": 9}, {"y": 0, "x": 10}, {"y": 11, "x": 11}, {"y": 0, "x": 12}, {"y": 1, "x": 13}, {"y": 1, "x": 14}, {"y": 0, "x": 15}, {"y": 1, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 0, "x": 19}, {"y": 4, "x": 20}, {"y": 1, "x": 21}, {"y": 49, "x": 22}, {"y": 19, "x": 23}, {"y": 3, "x": 24}, {"y": 19, "x": 25}, {"y": 5, "x": 26}, {"y": 11, "x": 27}, {"y": 1, "x": 28}, {"y": 21, "x": 29}, {"y": 0, "x": 30}, {"y": 3, "x": 31}, {"y": 8, "x": 32}, {"y": 3, "x": 33}, {"y": 0, "x": 34}, {"y": 1, "x": 35}, {"y": 3, "x": 36}, {"y": 31, "x": 37}, {"y": 1, "x": 38}, {"y": 20, "x": 39}, {"y": 0, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 4, "x": 44}, {"y": 17, "x": 45}, {"y": 4, "x": 46}, {"y": 0, "x": 47}, {"y": 0, "x": 48}], "name": "Vitamin String Quartet"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 0, "x": 3}, {"y": 0, "x": 4}, {"y": 0, "x": 5}, {"y": 0, "x": 6}, {"y": 0, "x": 7}, {"y": 0, "x": 8}, {"y": 0, "x": 9}, {"y": 0, "x": 10}, {"y": 0, "x": 11}, {"y": 0, "x": 12}, {"y": 0, "x": 13}, {"y": 0, "x": 14}, {"y": 0, "x": 15}, {"y": 0, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 0, "x": 19}, {"y": 0, "x": 20}, {"y": 0, "x": 21}, {"y": 0, "x": 22}, {"y": 0, "x": 23}, {"y": 0, "x": 24}, {"y": 0, "x": 25}, {"y": 45, "x": 26}, {"y": 12, "x": 27}, {"y": 2, "x": 28}, {"y": 7, "x": 29}, {"y": 86, "x": 30}, {"y": 28, "x": 31}, {"y": 13, "x": 32}, {"y": 20, "x": 33}, {"y": 7, "x": 34}, {"y": 4, "x": 35}, {"y": 6, "x": 36}, {"y": 19, "x": 37}, {"y": 2, "x": 38}, {"y": 21, "x": 39}, {"y": 3, "x": 40}, {"y": 0, "x": 41}, {"y": 1, "x": 42}, {"y": 0, "x": 43}, {"y": 6, "x": 44}, {"y": 24, "x": 45}, {"y": 90, "x": 46}, {"y": 1, "x": 47}, {"y": 19, "x": 48}], "name": "Angus & Julia Stone"}, {"values": [{"y": 23, "x": 0}, {"y": 44, "x": 1}, {"y": 79, "x": 2}, {"y": 20, "x": 3}, {"y": 10, "x": 4}, {"y": 11, "x": 5}, {"y": 7, "x": 6}, {"y": 6, "x": 7}, {"y": 8, "x": 8}, {"y": 7, "x": 9}, {"y": 12, "x": 10}, {"y": 16, "x": 11}, {"y": 2, "x": 12}, {"y": 0, "x": 13}, {"y": 0, "x": 14}, {"y": 1, "x": 15}, {"y": 1, "x": 16}, {"y": 0, "x": 17}, {"y": 1, "x": 18}, {"y": 11, "x": 19}, {"y": 17, "x": 20}, {"y": 5, "x": 21}, {"y": 4, "x": 22}, {"y": 8, "x": 23}, {"y": 7, "x": 24}, {"y": 6, "x": 25}, {"y": 17, "x": 26}, {"y": 4, "x": 27}, {"y": 4, "x": 28}, {"y": 6, "x": 29}, {"y": 2, "x": 30}, {"y": 2, "x": 31}, {"y": 4, "x": 32}, {"y": 4, "x": 33}, {"y": 26, "x": 34}, {"y": 2, "x": 35}, {"y": 1, "x": 36}, {"y": 0, "x": 37}, {"y": 0, "x": 38}, {"y": 16, "x": 39}, {"y": 0, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 5, "x": 44}, {"y": 6, "x": 45}, {"y": 4, "x": 46}, {"y": 1, "x": 47}, {"y": 1, "x": 48}], "name": "Franz Ferdinand"}, {"values": [{"y": 25, "x": 0}, {"y": 32, "x": 1}, {"y": 34, "x": 2}, {"y": 22, "x": 3}, {"y": 19, "x": 4}, {"y": 33, "x": 5}, {"y": 10, "x": 6}, {"y": 0, "x": 7}, {"y": 9, "x": 8}, {"y": 17, "x": 9}, {"y": 5, "x": 10}, {"y": 12, "x": 11}, {"y": 3, "x": 12}, {"y": 4, "x": 13}, {"y": 1, "x": 14}, {"y": 1, "x": 15}, {"y": 0, "x": 16}, {"y": 0, "x": 17}, {"y": 1, "x": 18}, {"y": 1, "x": 19}, {"y": 1, "x": 20}, {"y": 28, "x": 21}, {"y": 15, "x": 22}, {"y": 11, "x": 23}, {"y": 22, "x": 24}, {"y": 10, "x": 25}, {"y": 4, "x": 26}, {"y": 4, "x": 27}, {"y": 1, "x": 28}, {"y": 1, "x": 29}, {"y": 0, "x": 30}, {"y": 2, "x": 31}, {"y": 7, "x": 32}, {"y": 2, "x": 33}, {"y": 12, "x": 34}, {"y": 4, "x": 35}, {"y": 1, "x": 36}, {"y": 11, "x": 37}, {"y": 0, "x": 38}, {"y": 18, "x": 39}, {"y": 1, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 1, "x": 44}, {"y": 1, "x": 45}, {"y": 0, "x": 46}, {"y": 17, "x": 47}, {"y": 10, "x": 48}], "name": "Eels"}, {"values": [{"y": 34, "x": 0}, {"y": 23, "x": 1}, {"y": 29, "x": 2}, {"y": 23, "x": 3}, {"y": 19, "x": 4}, {"y": 13, "x": 5}, {"y": 24, "x": 6}, {"y": 1, "x": 7}, {"y": 10, "x": 8}, {"y": 15, "x": 9}, {"y": 4, "x": 10}, {"y": 12, "x": 11}, {"y": 11, "x": 12}, {"y": 5, "x": 13}, {"y": 1, "x": 14}, {"y": 0, "x": 15}, {"y": 5, "x": 16}, {"y": 1, "x": 17}, {"y": 1, "x": 18}, {"y": 3, "x": 19}, {"y": 7, "x": 20}, {"y": 7, "x": 21}, {"y": 8, "x": 22}, {"y": 2, "x": 23}, {"y": 11, "x": 24}, {"y": 7, "x": 25}, {"y": 42, "x": 26}, {"y": 10, "x": 27}, {"y": 0, "x": 28}, {"y": 3, "x": 29}, {"y": 3, "x": 30}, {"y": 3, "x": 31}, {"y": 3, "x": 32}, {"y": 0, "x": 33}, {"y": 4, "x": 34}, {"y": 18, "x": 35}, {"y": 15, "x": 36}, {"y": 17, "x": 37}, {"y": 13, "x": 38}, {"y": 5, "x": 39}, {"y": 1, "x": 40}, {"y": 0, "x": 41}, {"y": 1, "x": 42}, {"y": 0, "x": 43}, {"y": 2, "x": 44}, {"y": 6, "x": 45}, {"y": 2, "x": 46}, {"y": 0, "x": 47}, {"y": 0, "x": 48}], "name": "Ratatat"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 0, "x": 3}, {"y": 0, "x": 4}, {"y": 0, "x": 5}, {"y": 0, "x": 6}, {"y": 0, "x": 7}, {"y": 0, "x": 8}, {"y": 0, "x": 9}, {"y": 0, "x": 10}, {"y": 0, "x": 11}, {"y": 0, "x": 12}, {"y": 2, "x": 13}, {"y": 71, "x": 14}, {"y": 44, "x": 15}, {"y": 14, "x": 16}, {"y": 2, "x": 17}, {"y": 0, "x": 18}, {"y": 11, "x": 19}, {"y": 4, "x": 20}, {"y": 18, "x": 21}, {"y": 20, "x": 22}, {"y": 41, "x": 23}, {"y": 9, "x": 24}, {"y": 18, "x": 25}, {"y": 15, "x": 26}, {"y": 10, "x": 27}, {"y": 5, "x": 28}, {"y": 27, "x": 29}, {"y": 6, "x": 30}, {"y": 7, "x": 31}, {"y": 10, "x": 32}, {"y": 6, "x": 33}, {"y": 4, "x": 34}, {"y": 2, "x": 35}, {"y": 8, "x": 36}, {"y": 8, "x": 37}, {"y": 4, "x": 38}, {"y": 2, "x": 39}, {"y": 2, "x": 40}, {"y": 0, "x": 41}, {"y": 3, "x": 42}, {"y": 0, "x": 43}, {"y": 16, "x": 44}, {"y": 8, "x": 45}, {"y": 16, "x": 46}, {"y": 13, "x": 47}, {"y": 33, "x": 48}], "name": "Beach House"}, {"values": [{"y": 23, "x": 0}, {"y": 22, "x": 1}, {"y": 23, "x": 2}, {"y": 15, "x": 3}, {"y": 13, "x": 4}, {"y": 17, "x": 5}, {"y": 5, "x": 6}, {"y": 3, "x": 7}, {"y": 7, "x": 8}, {"y": 9, "x": 9}, {"y": 6, "x": 10}, {"y": 7, "x": 11}, {"y": 2, "x": 12}, {"y": 4, "x": 13}, {"y": 3, "x": 14}, {"y": 8, "x": 15}, {"y": 14, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 36, "x": 19}, {"y": 4, "x": 20}, {"y": 4, "x": 21}, {"y": 21, "x": 22}, {"y": 4, "x": 23}, {"y": 6, "x": 24}, {"y": 21, "x": 25}, {"y": 7, "x": 26}, {"y": 13, "x": 27}, {"y": 4, "x": 28}, {"y": 18, "x": 29}, {"y": 2, "x": 30}, {"y": 5, "x": 31}, {"y": 9, "x": 32}, {"y": 21, "x": 33}, {"y": 0, "x": 34}, {"y": 3, "x": 35}, {"y": 1, "x": 36}, {"y": 2, "x": 37}, {"y": 27, "x": 38}, {"y": 0, "x": 39}, {"y": 1, "x": 40}, {"y": 0, "x": 41}, {"y": 2, "x": 42}, {"y": 1, "x": 43}, {"y": 5, "x": 44}, {"y": 26, "x": 45}, {"y": 11, "x": 46}, {"y": 27, "x": 47}, {"y": 6, "x": 48}], "name": "The Beatles"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 0, "x": 3}, {"y": 0, "x": 4}, {"y": 0, "x": 5}, {"y": 0, "x": 6}, {"y": 0, "x": 7}, {"y": 0, "x": 8}, {"y": 0, "x": 9}, {"y": 0, "x": 10}, {"y": 0, "x": 11}, {"y": 0, "x": 12}, {"y": 0, "x": 13}, {"y": 0, "x": 14}, {"y": 0, "x": 15}, {"y": 19, "x": 16}, {"y": 16, "x": 17}, {"y": 24, "x": 18}, {"y": 22, "x": 19}, {"y": 32, "x": 20}, {"y": 25, "x": 21}, {"y": 51, "x": 22}, {"y": 31, "x": 23}, {"y": 3, "x": 24}, {"y": 6, "x": 25}, {"y": 5, "x": 26}, {"y": 21, "x": 27}, {"y": 2, "x": 28}, {"y": 6, "x": 29}, {"y": 10, "x": 30}, {"y": 0, "x": 31}, {"y": 7, "x": 32}, {"y": 9, "x": 33}, {"y": 0, "x": 34}, {"y": 0, "x": 35}, {"y": 19, "x": 36}, {"y": 39, "x": 37}, {"y": 39, "x": 38}, {"y": 20, "x": 39}, {"y": 0, "x": 40}, {"y": 0, "x": 41}, {"y": 11, "x": 42}, {"y": 0, "x": 43}, {"y": 18, "x": 44}, {"y": 3, "x": 45}, {"y": 11, "x": 46}, {"y": 35, "x": 47}, {"y": 0, "x": 48}], "name": "The Antlers"}, {"values": [{"y": 37, "x": 0}, {"y": 38, "x": 1}, {"y": 38, "x": 2}, {"y": 21, "x": 3}, {"y": 13, "x": 4}, {"y": 13, "x": 5}, {"y": 7, "x": 6}, {"y": 11, "x": 7}, {"y": 7, "x": 8}, {"y": 19, "x": 9}, {"y": 19, "x": 10}, {"y": 18, "x": 11}, {"y": 3, "x": 12}, {"y": 2, "x": 13}, {"y": 5, "x": 14}, {"y": 3, "x": 15}, {"y": 4, "x": 16}, {"y": 1, "x": 17}, {"y": 1, "x": 18}, {"y": 3, "x": 19}, {"y": 0, "x": 20}, {"y": 5, "x": 21}, {"y": 20, "x": 22}, {"y": 2, "x": 23}, {"y": 5, "x": 24}, {"y": 6, "x": 25}, {"y": 6, "x": 26}, {"y": 6, "x": 27}, {"y": 35, "x": 28}, {"y": 8, "x": 29}, {"y": 1, "x": 30}, {"y": 2, "x": 31}, {"y": 13, "x": 32}, {"y": 18, "x": 33}, {"y": 12, "x": 34}, {"y": 1, "x": 35}, {"y": 0, "x": 36}, {"y": 43, "x": 37}, {"y": 2, "x": 38}, {"y": 31, "x": 39}, {"y": 6, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 3, "x": 44}, {"y": 0, "x": 45}, {"y": 0, "x": 46}, {"y": 0, "x": 47}, {"y": 0, "x": 48}], "name": "The Shins"}, {"values": [{"y": 47, "x": 0}, {"y": 29, "x": 1}, {"y": 31, "x": 2}, {"y": 63, "x": 3}, {"y": 36, "x": 4}, {"y": 17, "x": 5}, {"y": 13, "x": 6}, {"y": 4, "x": 7}, {"y": 5, "x": 8}, {"y": 21, "x": 9}, {"y": 5, "x": 10}, {"y": 13, "x": 11}, {"y": 3, "x": 12}, {"y": 4, "x": 13}, {"y": 2, "x": 14}, {"y": 12, "x": 15}, {"y": 4, "x": 16}, {"y": 7, "x": 17}, {"y": 2, "x": 18}, {"y": 1, "x": 19}, {"y": 8, "x": 20}, {"y": 16, "x": 21}, {"y": 11, "x": 22}, {"y": 10, "x": 23}, {"y": 12, "x": 24}, {"y": 10, "x": 25}, {"y": 5, "x": 26}, {"y": 4, "x": 27}, {"y": 12, "x": 28}, {"y": 2, "x": 29}, {"y": 4, "x": 30}, {"y": 2, "x": 31}, {"y": 5, "x": 32}, {"y": 20, "x": 33}, {"y": 4, "x": 34}, {"y": 1, "x": 35}, {"y": 4, "x": 36}, {"y": 2, "x": 37}, {"y": 14, "x": 38}, {"y": 19, "x": 39}, {"y": 2, "x": 40}, {"y": 0, "x": 41}, {"y": 1, "x": 42}, {"y": 0, "x": 43}, {"y": 10, "x": 44}, {"y": 2, "x": 45}, {"y": 3, "x": 46}, {"y": 2, "x": 47}, {"y": 0, "x": 48}], "name": "The Decemberists"}, {"values": [{"y": 33, "x": 0}, {"y": 16, "x": 1}, {"y": 16, "x": 2}, {"y": 22, "x": 3}, {"y": 20, "x": 4}, {"y": 7, "x": 5}, {"y": 1, "x": 6}, {"y": 7, "x": 7}, {"y": 8, "x": 8}, {"y": 10, "x": 9}, {"y": 14, "x": 10}, {"y": 12, "x": 11}, {"y": 1, "x": 12}, {"y": 3, "x": 13}, {"y": 6, "x": 14}, {"y": 32, "x": 15}, {"y": 13, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 17, "x": 19}, {"y": 16, "x": 20}, {"y": 38, "x": 21}, {"y": 24, "x": 22}, {"y": 12, "x": 23}, {"y": 20, "x": 24}, {"y": 10, "x": 25}, {"y": 6, "x": 26}, {"y": 13, "x": 27}, {"y": 6, "x": 28}, {"y": 2, "x": 29}, {"y": 0, "x": 30}, {"y": 2, "x": 31}, {"y": 26, "x": 32}, {"y": 6, "x": 33}, {"y": 0, "x": 34}, {"y": 11, "x": 35}, {"y": 0, "x": 36}, {"y": 2, "x": 37}, {"y": 0, "x": 38}, {"y": 37, "x": 39}, {"y": 26, "x": 40}, {"y": 0, "x": 41}, {"y": 3, "x": 42}, {"y": 2, "x": 43}, {"y": 3, "x": 44}, {"y": 12, "x": 45}, {"y": 6, "x": 46}, {"y": 0, "x": 47}, {"y": 0, "x": 48}], "name": "Coldplay"}, {"values": [{"y": 1, "x": 0}, {"y": 4, "x": 1}, {"y": 88, "x": 2}, {"y": 72, "x": 3}, {"y": 20, "x": 4}, {"y": 29, "x": 5}, {"y": 5, "x": 6}, {"y": 6, "x": 7}, {"y": 41, "x": 8}, {"y": 12, "x": 9}, {"y": 9, "x": 10}, {"y": 16, "x": 11}, {"y": 5, "x": 12}, {"y": 22, "x": 13}, {"y": 4, "x": 14}, {"y": 29, "x": 15}, {"y": 5, "x": 16}, {"y": 9, "x": 17}, {"y": 1, "x": 18}, {"y": 5, "x": 19}, {"y": 24, "x": 20}, {"y": 21, "x": 21}, {"y": 10, "x": 22}, {"y": 1, "x": 23}, {"y": 22, "x": 24}, {"y": 4, "x": 25}, {"y": 5, "x": 26}, {"y": 4, "x": 27}, {"y": 3, "x": 28}, {"y": 30, "x": 29}, {"y": 0, "x": 30}, {"y": 3, "x": 31}, {"y": 10, "x": 32}, {"y": 2, "x": 33}, {"y": 8, "x": 34}, {"y": 0, "x": 35}, {"y": 8, "x": 36}, {"y": 0, "x": 37}, {"y": 0, "x": 38}, {"y": 20, "x": 39}, {"y": 1, "x": 40}, {"y": 0, "x": 41}, {"y": 1, "x": 42}, {"y": 1, "x": 43}, {"y": 0, "x": 44}, {"y": 3, "x": 45}, {"y": 1, "x": 46}, {"y": 1, "x": 47}, {"y": 0, "x": 48}], "name": "As Tall As Lions"}, {"values": [{"y": 0, "x": 0}, {"y": 21, "x": 1}, {"y": 106, "x": 2}, {"y": 50, "x": 3}, {"y": 24, "x": 4}, {"y": 17, "x": 5}, {"y": 12, "x": 6}, {"y": 2, "x": 7}, {"y": 17, "x": 8}, {"y": 41, "x": 9}, {"y": 2, "x": 10}, {"y": 28, "x": 11}, {"y": 4, "x": 12}, {"y": 2, "x": 13}, {"y": 3, "x": 14}, {"y": 3, "x": 15}, {"y": 12, "x": 16}, {"y": 2, "x": 17}, {"y": 5, "x": 18}, {"y": 1, "x": 19}, {"y": 19, "x": 20}, {"y": 35, "x": 21}, {"y": 13, "x": 22}, {"y": 2, "x": 23}, {"y": 17, "x": 24}, {"y": 27, "x": 25}, {"y": 16, "x": 26}, {"y": 18, "x": 27}, {"y": 2, "x": 28}, {"y": 0, "x": 29}, {"y": 1, "x": 30}, {"y": 3, "x": 31}, {"y": 2, "x": 32}, {"y": 13, "x": 33}, {"y": 1, "x": 34}, {"y": 16, "x": 35}, {"y": 1, "x": 36}, {"y": 26, "x": 37}, {"y": 0, "x": 38}, {"y": 32, "x": 39}, {"y": 1, "x": 40}, {"y": 0, "x": 41}, {"y": 1, "x": 42}, {"y": 1, "x": 43}, {"y": 4, "x": 44}, {"y": 4, "x": 45}, {"y": 2, "x": 46}, {"y": 1, "x": 47}, {"y": 2, "x": 48}], "name": "The Submarines"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 37, "x": 2}, {"y": 28, "x": 3}, {"y": 22, "x": 4}, {"y": 8, "x": 5}, {"y": 2, "x": 6}, {"y": 3, "x": 7}, {"y": 11, "x": 8}, {"y": 13, "x": 9}, {"y": 1, "x": 10}, {"y": 45, "x": 11}, {"y": 20, "x": 12}, {"y": 9, "x": 13}, {"y": 1, "x": 14}, {"y": 17, "x": 15}, {"y": 18, "x": 16}, {"y": 2, "x": 17}, {"y": 0, "x": 18}, {"y": 3, "x": 19}, {"y": 18, "x": 20}, {"y": 55, "x": 21}, {"y": 39, "x": 22}, {"y": 36, "x": 23}, {"y": 17, "x": 24}, {"y": 50, "x": 25}, {"y": 17, "x": 26}, {"y": 25, "x": 27}, {"y": 22, "x": 28}, {"y": 11, "x": 29}, {"y": 16, "x": 30}, {"y": 2, "x": 31}, {"y": 7, "x": 32}, {"y": 20, "x": 33}, {"y": 5, "x": 34}, {"y": 3, "x": 35}, {"y": 9, "x": 36}, {"y": 8, "x": 37}, {"y": 17, "x": 38}, {"y": 9, "x": 39}, {"y": 15, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 2, "x": 44}, {"y": 6, "x": 45}, {"y": 3, "x": 46}, {"y": 9, "x": 47}, {"y": 1, "x": 48}], "name": "Ingrid Michaelson"}, {"values": [{"y": 56, "x": 0}, {"y": 32, "x": 1}, {"y": 49, "x": 2}, {"y": 50, "x": 3}, {"y": 24, "x": 4}, {"y": 22, "x": 5}, {"y": 3, "x": 6}, {"y": 7, "x": 7}, {"y": 9, "x": 8}, {"y": 33, "x": 9}, {"y": 3, "x": 10}, {"y": 6, "x": 11}, {"y": 2, "x": 12}, {"y": 3, "x": 13}, {"y": 1, "x": 14}, {"y": 6, "x": 15}, {"y": 5, "x": 16}, {"y": 2, "x": 17}, {"y": 2, "x": 18}, {"y": 0, "x": 19}, {"y": 9, "x": 20}, {"y": 8, "x": 21}, {"y": 28, "x": 22}, {"y": 4, "x": 23}, {"y": 21, "x": 24}, {"y": 14, "x": 25}, {"y": 15, "x": 26}, {"y": 7, "x": 27}, {"y": 4, "x": 28}, {"y": 13, "x": 29}, {"y": 4, "x": 30}, {"y": 2, "x": 31}, {"y": 7, "x": 32}, {"y": 6, "x": 33}, {"y": 0, "x": 34}, {"y": 2, "x": 35}, {"y": 64, "x": 36}, {"y": 26, "x": 37}, {"y": 2, "x": 38}, {"y": 60, "x": 39}, {"y": 22, "x": 40}, {"y": 0, "x": 41}, {"y": 2, "x": 42}, {"y": 0, "x": 43}, {"y": 2, "x": 44}, {"y": 4, "x": 45}, {"y": 0, "x": 46}, {"y": 4, "x": 47}, {"y": 0, "x": 48}], "name": "Death Cab for Cutie"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 0, "x": 3}, {"y": 0, "x": 4}, {"y": 0, "x": 5}, {"y": 0, "x": 6}, {"y": 0, "x": 7}, {"y": 0, "x": 8}, {"y": 0, "x": 9}, {"y": 0, "x": 10}, {"y": 0, "x": 11}, {"y": 0, "x": 12}, {"y": 0, "x": 13}, {"y": 0, "x": 14}, {"y": 0, "x": 15}, {"y": 0, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 137, "x": 19}, {"y": 59, "x": 20}, {"y": 65, "x": 21}, {"y": 20, "x": 22}, {"y": 3, "x": 23}, {"y": 44, "x": 24}, {"y": 34, "x": 25}, {"y": 33, "x": 26}, {"y": 67, "x": 27}, {"y": 40, "x": 28}, {"y": 9, "x": 29}, {"y": 14, "x": 30}, {"y": 0, "x": 31}, {"y": 16, "x": 32}, {"y": 25, "x": 33}, {"y": 18, "x": 34}, {"y": 18, "x": 35}, {"y": 19, "x": 36}, {"y": 16, "x": 37}, {"y": 13, "x": 38}, {"y": 16, "x": 39}, {"y": 6, "x": 40}, {"y": 0, "x": 41}, {"y": 2, "x": 42}, {"y": 0, "x": 43}, {"y": 14, "x": 44}, {"y": 17, "x": 45}, {"y": 1, "x": 46}, {"y": 1, "x": 47}, {"y": 0, "x": 48}], "name": "Mumford & Sons"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 2, "x": 3}, {"y": 23, "x": 4}, {"y": 19, "x": 5}, {"y": 4, "x": 6}, {"y": 8, "x": 7}, {"y": 39, "x": 8}, {"y": 65, "x": 9}, {"y": 5, "x": 10}, {"y": 21, "x": 11}, {"y": 0, "x": 12}, {"y": 13, "x": 13}, {"y": 21, "x": 14}, {"y": 121, "x": 15}, {"y": 54, "x": 16}, {"y": 15, "x": 17}, {"y": 58, "x": 18}, {"y": 23, "x": 19}, {"y": 31, "x": 20}, {"y": 5, "x": 21}, {"y": 54, "x": 22}, {"y": 20, "x": 23}, {"y": 23, "x": 24}, {"y": 27, "x": 25}, {"y": 12, "x": 26}, {"y": 22, "x": 27}, {"y": 12, "x": 28}, {"y": 5, "x": 29}, {"y": 3, "x": 30}, {"y": 0, "x": 31}, {"y": 4, "x": 32}, {"y": 10, "x": 33}, {"y": 11, "x": 34}, {"y": 9, "x": 35}, {"y": 3, "x": 36}, {"y": 0, "x": 37}, {"y": 3, "x": 38}, {"y": 19, "x": 39}, {"y": 0, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 12, "x": 44}, {"y": 3, "x": 45}, {"y": 2, "x": 46}, {"y": 0, "x": 47}, {"y": 1, "x": 48}], "name": "Eisley"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 36, "x": 3}, {"y": 7, "x": 4}, {"y": 7, "x": 5}, {"y": 3, "x": 6}, {"y": 0, "x": 7}, {"y": 3, "x": 8}, {"y": 23, "x": 9}, {"y": 30, "x": 10}, {"y": 18, "x": 11}, {"y": 27, "x": 12}, {"y": 0, "x": 13}, {"y": 2, "x": 14}, {"y": 5, "x": 15}, {"y": 1, "x": 16}, {"y": 1, "x": 17}, {"y": 1, "x": 18}, {"y": 13, "x": 19}, {"y": 11, "x": 20}, {"y": 9, "x": 21}, {"y": 12, "x": 22}, {"y": 18, "x": 23}, {"y": 7, "x": 24}, {"y": 1, "x": 25}, {"y": 6, "x": 26}, {"y": 13, "x": 27}, {"y": 24, "x": 28}, {"y": 31, "x": 29}, {"y": 1, "x": 30}, {"y": 2, "x": 31}, {"y": 9, "x": 32}, {"y": 4, "x": 33}, {"y": 62, "x": 34}, {"y": 107, "x": 35}, {"y": 3, "x": 36}, {"y": 24, "x": 37}, {"y": 14, "x": 38}, {"y": 29, "x": 39}, {"y": 3, "x": 40}, {"y": 0, "x": 41}, {"y": 47, "x": 42}, {"y": 3, "x": 43}, {"y": 3, "x": 44}, {"y": 4, "x": 45}, {"y": 21, "x": 46}, {"y": 171, "x": 47}, {"y": 162, "x": 48}], "name": "Radical Face"}, {"values": [{"y": 28, "x": 0}, {"y": 33, "x": 1}, {"y": 28, "x": 2}, {"y": 12, "x": 3}, {"y": 9, "x": 4}, {"y": 18, "x": 5}, {"y": 4, "x": 6}, {"y": 18, "x": 7}, {"y": 6, "x": 8}, {"y": 16, "x": 9}, {"y": 5, "x": 10}, {"y": 8, "x": 11}, {"y": 1, "x": 12}, {"y": 1, "x": 13}, {"y": 1, "x": 14}, {"y": 3, "x": 15}, {"y": 1, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 37, "x": 19}, {"y": 95, "x": 20}, {"y": 43, "x": 21}, {"y": 27, "x": 22}, {"y": 2, "x": 23}, {"y": 9, "x": 24}, {"y": 19, "x": 25}, {"y": 7, "x": 26}, {"y": 21, "x": 27}, {"y": 5, "x": 28}, {"y": 14, "x": 29}, {"y": 7, "x": 30}, {"y": 37, "x": 31}, {"y": 19, "x": 32}, {"y": 18, "x": 33}, {"y": 1, "x": 34}, {"y": 0, "x": 35}, {"y": 31, "x": 36}, {"y": 46, "x": 37}, {"y": 27, "x": 38}, {"y": 48, "x": 39}, {"y": 28, "x": 40}, {"y": 0, "x": 41}, {"y": 12, "x": 42}, {"y": 9, "x": 43}, {"y": 5, "x": 44}, {"y": 19, "x": 45}, {"y": 26, "x": 46}, {"y": 1, "x": 47}, {"y": 12, "x": 48}], "name": "Arcade Fire"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 0, "x": 3}, {"y": 0, "x": 4}, {"y": 0, "x": 5}, {"y": 0, "x": 6}, {"y": 0, "x": 7}, {"y": 0, "x": 8}, {"y": 0, "x": 9}, {"y": 0, "x": 10}, {"y": 0, "x": 11}, {"y": 0, "x": 12}, {"y": 0, "x": 13}, {"y": 0, "x": 14}, {"y": 0, "x": 15}, {"y": 0, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 0, "x": 19}, {"y": 0, "x": 20}, {"y": 0, "x": 21}, {"y": 0, "x": 22}, {"y": 0, "x": 23}, {"y": 0, "x": 24}, {"y": 0, "x": 25}, {"y": 0, "x": 26}, {"y": 0, "x": 27}, {"y": 0, "x": 28}, {"y": 0, "x": 29}, {"y": 0, "x": 30}, {"y": 0, "x": 31}, {"y": 0, "x": 32}, {"y": 0, "x": 33}, {"y": 0, "x": 34}, {"y": 0, "x": 35}, {"y": 0, "x": 36}, {"y": 0, "x": 37}, {"y": 472, "x": 38}, {"y": 204, "x": 39}, {"y": 22, "x": 40}, {"y": 1, "x": 41}, {"y": 2, "x": 42}, {"y": 1, "x": 43}, {"y": 6, "x": 44}, {"y": 25, "x": 45}, {"y": 41, "x": 46}, {"y": 9, "x": 47}, {"y": 49, "x": 48}], "name": "Emancipator"}, {"values": [{"y": 7, "x": 0}, {"y": 2, "x": 1}, {"y": 2, "x": 2}, {"y": 1, "x": 3}, {"y": 1, "x": 4}, {"y": 1, "x": 5}, {"y": 1, "x": 6}, {"y": 0, "x": 7}, {"y": 0, "x": 8}, {"y": 2, "x": 9}, {"y": 0, "x": 10}, {"y": 0, "x": 11}, {"y": 1, "x": 12}, {"y": 0, "x": 13}, {"y": 0, "x": 14}, {"y": 0, "x": 15}, {"y": 0, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 1, "x": 19}, {"y": 0, "x": 20}, {"y": 0, "x": 21}, {"y": 4, "x": 22}, {"y": 2, "x": 23}, {"y": 33, "x": 24}, {"y": 2, "x": 25}, {"y": 49, "x": 26}, {"y": 16, "x": 27}, {"y": 2, "x": 28}, {"y": 3, "x": 29}, {"y": 2, "x": 30}, {"y": 26, "x": 31}, {"y": 20, "x": 32}, {"y": 18, "x": 33}, {"y": 41, "x": 34}, {"y": 2, "x": 35}, {"y": 3, "x": 36}, {"y": 42, "x": 37}, {"y": 20, "x": 38}, {"y": 51, "x": 39}, {"y": 8, "x": 40}, {"y": 36, "x": 41}, {"y": 26, "x": 42}, {"y": 67, "x": 43}, {"y": 180, "x": 44}, {"y": 64, "x": 45}, {"y": 34, "x": 46}, {"y": 2, "x": 47}, {"y": 94, "x": 48}], "name": "The National"}, {"values": [{"y": 77, "x": 0}, {"y": 67, "x": 1}, {"y": 67, "x": 2}, {"y": 56, "x": 3}, {"y": 50, "x": 4}, {"y": 29, "x": 5}, {"y": 17, "x": 6}, {"y": 13, "x": 7}, {"y": 14, "x": 8}, {"y": 32, "x": 9}, {"y": 74, "x": 10}, {"y": 32, "x": 11}, {"y": 5, "x": 12}, {"y": 4, "x": 13}, {"y": 9, "x": 14}, {"y": 51, "x": 15}, {"y": 7, "x": 16}, {"y": 7, "x": 17}, {"y": 1, "x": 18}, {"y": 0, "x": 19}, {"y": 1, "x": 20}, {"y": 31, "x": 21}, {"y": 11, "x": 22}, {"y": 16, "x": 23}, {"y": 19, "x": 24}, {"y": 33, "x": 25}, {"y": 9, "x": 26}, {"y": 4, "x": 27}, {"y": 6, "x": 28}, {"y": 3, "x": 29}, {"y": 4, "x": 30}, {"y": 6, "x": 31}, {"y": 5, "x": 32}, {"y": 6, "x": 33}, {"y": 0, "x": 34}, {"y": 13, "x": 35}, {"y": 3, "x": 36}, {"y": 12, "x": 37}, {"y": 1, "x": 38}, {"y": 4, "x": 39}, {"y": 6, "x": 40}, {"y": 0, "x": 41}, {"y": 0, "x": 42}, {"y": 0, "x": 43}, {"y": 3, "x": 44}, {"y": 2, "x": 45}, {"y": 1, "x": 46}, {"y": 0, "x": 47}, {"y": 0, "x": 48}], "name": "Muse"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 39, "x": 3}, {"y": 152, "x": 4}, {"y": 51, "x": 5}, {"y": 31, "x": 6}, {"y": 7, "x": 7}, {"y": 41, "x": 8}, {"y": 35, "x": 9}, {"y": 22, "x": 10}, {"y": 17, "x": 11}, {"y": 2, "x": 12}, {"y": 3, "x": 13}, {"y": 75, "x": 14}, {"y": 6, "x": 15}, {"y": 4, "x": 16}, {"y": 14, "x": 17}, {"y": 0, "x": 18}, {"y": 14, "x": 19}, {"y": 19, "x": 20}, {"y": 1, "x": 21}, {"y": 32, "x": 22}, {"y": 20, "x": 23}, {"y": 9, "x": 24}, {"y": 7, "x": 25}, {"y": 18, "x": 26}, {"y": 18, "x": 27}, {"y": 11, "x": 28}, {"y": 4, "x": 29}, {"y": 4, "x": 30}, {"y": 3, "x": 31}, {"y": 4, "x": 32}, {"y": 19, "x": 33}, {"y": 38, "x": 34}, {"y": 2, "x": 35}, {"y": 12, "x": 36}, {"y": 26, "x": 37}, {"y": 8, "x": 38}, {"y": 30, "x": 39}, {"y": 17, "x": 40}, {"y": 6, "x": 41}, {"y": 32, "x": 42}, {"y": 31, "x": 43}, {"y": 32, "x": 44}, {"y": 6, "x": 45}, {"y": 1, "x": 46}, {"y": 1, "x": 47}, {"y": 12, "x": 48}], "name": "Metric"}, {"values": [{"y": 0, "x": 0}, {"y": 0, "x": 1}, {"y": 0, "x": 2}, {"y": 0, "x": 3}, {"y": 0, "x": 4}, {"y": 0, "x": 5}, {"y": 0, "x": 6}, {"y": 0, "x": 7}, {"y": 0, "x": 8}, {"y": 0, "x": 9}, {"y": 0, "x": 10}, {"y": 0, "x": 11}, {"y": 0, "x": 12}, {"y": 0, "x": 13}, {"y": 0, "x": 14}, {"y": 0, "x": 15}, {"y": 0, "x": 16}, {"y": 0, "x": 17}, {"y": 0, "x": 18}, {"y": 0, "x": 19}, {"y": 0, "x": 20}, {"y": 0, "x": 21}, {"y": 0, "x": 22}, {"y": 0, "x": 23}, {"y": 0, "x": 24}, {"y": 0, "x": 25}, {"y": 0, "x": 26}, {"y": 0, "x": 27}, {"y": 0, "x": 28}, {"y": 23, "x": 29}, {"y": 56, "x": 30}, {"y": 158, "x": 31}, {"y": 280, "x": 32}, {"y": 49, "x": 33}, {"y": 52, "x": 34}, {"y": 62, "x": 35}, {"y": 42, "x": 36}, {"y": 74, "x": 37}, {"y": 102, "x": 38}, {"y": 60, "x": 39}, {"y": 69, "x": 40}, {"y": 0, "x": 41}, {"y": 28, "x": 42}, {"y": 3, "x": 43}, {"y": 44, "x": 44}, {"y": 2, "x": 45}, {"y": 37, "x": 46}, {"y": 0, "x": 47}, {"y": 24, "x": 48}], "name": "Noah and the Whale"}, {"values": [{"y": 56, "x": 0}, {"y": 35, "x": 1}, {"y": 27, "x": 2}, {"y": 29, "x": 3}, {"y": 20, "x": 4}, {"y": 20, "x": 5}, {"y": 9, "x": 6}, {"y": 0, "x": 7}, {"y": 7, "x": 8}, {"y": 19, "x": 9}, {"y": 14, "x": 10}, {"y": 16, "x": 11}, {"y": 9, "x": 12}, {"y": 3, "x": 13}, {"y": 4, "x": 14}, {"y": 36, "x": 15}, {"y": 7, "x": 16}, {"y": 1, "x": 17}, {"y": 21, "x": 18}, {"y": 22, "x": 19}, {"y": 0, "x": 20}, {"y": 19, "x": 21}, {"y": 20, "x": 22}, {"y": 17, "x": 23}, {"y": 16, "x": 24}, {"y": 26, "x": 25}, {"y": 17, "x": 26}, {"y": 1, "x": 27}, {"y": 3, "x": 28}, {"y": 9, "x": 29}, {"y": 1, "x": 30}, {"y": 4, "x": 31}, {"y": 6, "x": 32}, {"y": 183, "x": 33}, {"y": 159, "x": 34}, {"y": 38, "x": 35}, {"y": 91, "x": 36}, {"y": 49, "x": 37}, {"y": 27, "x": 38}, {"y": 122, "x": 39}, {"y": 50, "x": 40}, {"y": 9, "x": 41}, {"y": 21, "x": 42}, {"y": 1, "x": 43}, {"y": 12, "x": 44}, {"y": 22, "x": 45}, {"y": 18, "x": 46}, {"y": 10, "x": 47}, {"y": 9, "x": 48}], "name": "Beirut"}, {"values": [{"y": 45, "x": 0}, {"y": 27, "x": 1}, {"y": 15, "x": 2}, {"y": 26, "x": 3}, {"y": 7, "x": 4}, {"y": 9, "x": 5}, {"y": 1, "x": 6}, {"y": 0, "x": 7}, {"y": 32, "x": 8}, {"y": 59, "x": 9}, {"y": 51, "x": 10}, {"y": 51, "x": 11}, {"y": 13, "x": 12}, {"y": 9, "x": 13}, {"y": 3, "x": 14}, {"y": 5, "x": 15}, {"y": 12, "x": 16}, {"y": 5, "x": 17}, {"y": 2, "x": 18}, {"y": 2, "x": 19}, {"y": 2, "x": 20}, {"y": 55, "x": 21}, {"y": 19, "x": 22}, {"y": 13, "x": 23}, {"y": 22, "x": 24}, {"y": 20, "x": 25}, {"y": 22, "x": 26}, {"y": 41, "x": 27}, {"y": 6, "x": 28}, {"y": 35, "x": 29}, {"y": 4, "x": 30}, {"y": 7, "x": 31}, {"y": 9, "x": 32}, {"y": 8, "x": 33}, {"y": 53, "x": 34}, {"y": 77, "x": 35}, {"y": 1, "x": 36}, {"y": 0, "x": 37}, {"y": 109, "x": 38}, {"y": 298, "x": 39}, {"y": 0, "x": 40}, {"y": 0, "x": 41}, {"y": 31, "x": 42}, {"y": 9, "x": 43}, {"y": 13, "x": 44}, {"y": 67, "x": 45}, {"y": 59, "x": 46}, {"y": 0, "x": 47}, {"y": 24, "x": 48}], "name": "Joe Hisaishi"}, {"values": [{"y": 38, "x": 0}, {"y": 41, "x": 1}, {"y": 97, "x": 2}, {"y": 49, "x": 3}, {"y": 56, "x": 4}, {"y": 100, "x": 5}, {"y": 18, "x": 6}, {"y": 21, "x": 7}, {"y": 18, "x": 8}, {"y": 65, "x": 9}, {"y": 25, "x": 10}, {"y": 16, "x": 11}, {"y": 11, "x": 12}, {"y": 21, "x": 13}, {"y": 68, "x": 14}, {"y": 24, "x": 15}, {"y": 43, "x": 16}, {"y": 1, "x": 17}, {"y": 4, "x": 18}, {"y": 23, "x": 19}, {"y": 48, "x": 20}, {"y": 60, "x": 21}, {"y": 33, "x": 22}, {"y": 15, "x": 23}, {"y": 26, "x": 24}, {"y": 16, "x": 25}, {"y": 28, "x": 26}, {"y": 17, "x": 27}, {"y": 18, "x": 28}, {"y": 4, "x": 29}, {"y": 12, "x": 30}, {"y": 22, "x": 31}, {"y": 6, "x": 32}, {"y": 49, "x": 33}, {"y": 201, "x": 34}, {"y": 31, "x": 35}, {"y": 32, "x": 36}, {"y": 32, "x": 37}, {"y": 28, "x": 38}, {"y": 114, "x": 39}, {"y": 1, "x": 40}, {"y": 16, "x": 41}, {"y": 98, "x": 42}, {"y": 5, "x": 43}, {"y": 17, "x": 44}, {"y": 23, "x": 45}, {"y": 8, "x": 46}, {"y": 8, "x": 47}, {"y": 2, "x": 48}], "name": "Margot & the Nuclear So and So's"}, {"values": [{"y": 159, "x": 0}, {"y": 187, "x": 1}, {"y": 130, "x": 2}, {"y": 158, "x": 3}, {"y": 64, "x": 4}, {"y": 72, "x": 5}, {"y": 36, "x": 6}, {"y": 33, "x": 7}, {"y": 40, "x": 8}, {"y": 49, "x": 9}, {"y": 28, "x": 10}, {"y": 93, "x": 11}, {"y": 19, "x": 12}, {"y": 12, "x": 13}, {"y": 8, "x": 14}, {"y": 23, "x": 15}, {"y": 11, "x": 16}, {"y": 1, "x": 17}, {"y": 29, "x": 18}, {"y": 34, "x": 19}, {"y": 70, "x": 20}, {"y": 141, "x": 21}, {"y": 86, "x": 22}, {"y": 169, "x": 23}, {"y": 34, "x": 24}, {"y": 65, "x": 25}, {"y": 39, "x": 26}, {"y": 24, "x": 27}, {"y": 35, "x": 28}, {"y": 32, "x": 29}, {"y": 1, "x": 30}, {"y": 11, "x": 31}, {"y": 75, "x": 32}, {"y": 20, "x": 33}, {"y": 96, "x": 34}, {"y": 60, "x": 35}, {"y": 14, "x": 36}, {"y": 14, "x": 37}, {"y": 2, "x": 38}, {"y": 113, "x": 39}, {"y": 77, "x": 40}, {"y": 11, "x": 41}, {"y": 10, "x": 42}, {"y": 33, "x": 43}, {"y": 5, "x": 44}, {"y": 13, "x": 45}, {"y": 22, "x": 46}, {"y": 2, "x": 47}, {"y": 3, "x": 48}], "name": "Stars"}];


// key: [month, year] where January is month 0
var stories = {
	//[0, 2009]: 'Began using last.fm',
	"0,2009": 'Begin using last.fm.',
	"1,2009": 'Listening to a lot of Portugal. The Man. They remind me of physics class.',
	"2,2009": 'Enter a student film festival with my friend Mike Lo. Listen to the first 30 seconds of <i>The Vanishing</i> by Stars at least 100 times during editing.',
	"3,2009": 'Start hanging out with a bunch of people I went to middle school with. These friends become some of the only people I keep in touch with during college.',
	"4,2009": 'My highest monthly play count for the band Metric occurs. Buy tickets to see them next month; my first real concert.',
	"5,2009": 'Begin dating a girl named Miliana. "Our" song is <i>International Rock Star</i> by Stars.',
	"6,2009": 'Take a summer class at Otis in LA. Anthem of the summer: <i>West Coast</i> by Coconut Records.',
	"7,2009": 'Return home to Ellicott City, MD.',
	"8,2009": 'Senior year of high school starts.',
	"9,2009": 'SATs, APs, and college applications stress me out. Muse seems to be the coping mechanism.',
	"10,2009": 'Break up with Miliana. Listen to Stars a bunch, then stop listening to Stars for a while.',
	"11,2009": 'Last Christmas while living at home.',

	"0,2010": 'College applications end. Stress levels decrease dramatically.',
	"1,2010": 'My music player lives on shuffle, so I have no consistent trends for a month.',
	"2,2010": 'Beach House gets a lot of attention, as do Margot and Metric.',
	"3,2010": 'Get into Penn. Go to prom(s). Listening to tons of Eisley, which surprises me because I remember listening to a lot of techno at this time.',
	"4,2010": 'Graduate high school. Vitamin C tells me we will always be friends forever.',
	"5,2010": 'Start rock climbing as a hobby. Hear about Mumford and Sons from a friend from Otis and think I\'m hip, then hear them a few weeks later at the climbing gym. Disappointed I\'m not hip.',
	"6,2010": 'Start listening to Stars again. It took that long? That\'s embarassing. As Tall As Lions, a previous favorite, disappear from my listening history.',
	"7,2010": 'Work up the courage to ask out the girl I like. A month before we go to college. Five hours apart.',
	"8,2010": 'Start at Penn as a Digital Media Design major. Listen to a lot of Arcade Fire the first week of classes.',
	"9,2010": 'The month of concerts: I see Stars and Margot back to back, followed by Local Natives and Ingrid Michaelson two weeks later.', 
	"10,2010": 'My friends agree Margot\'s new sound isn\'t as good as their first album; the most pretentious statement ever thought up by a couple of 18-year olds is made',
	"11,2010": 'Get grades back for first semester. Realize I\'m now a small fish in a big pond.',

	"0,2011": 'Life is strange in the Quad. Listening habits remain pretty much consistent.',
	"1,2011": 'Begin applying for summer internships. Have little luck.',
	"2,2011": 'Now playing: You\'re the One That I Want by Angus & Julia Stone',
	"3,2011": 'Music plays go down as work picks up.',
	"4,2011": 'Reunite with my good friend Stacie Lackler, the only person I still talk to from my high school. She introduces me to Noah and the Whale.',
	"5,2011": 'Start work at Dogpatch Films in San Francisco, where I spend half my time making their website and half my time holding a boom.',
	"6,2011": 'Hour long bus commutes result in lots of Noah and the Whale.',
	"7,2011": 'End my internship with an intense hatred for cross-browser compatibility.',
	"8,2011": 'Return to Penn for sophomore year. Beirut\'s <i>The Rip Tide</i> is released and I listen to it nonstop.',
	"9,2011": 'Meet the new freshman DMD class at a Halloween party.',
	"10,2011": 'Compete in my first PennApps. We make "Pandora for beer".',
	"11,2011": 'Spend a lot of time modeling the ship <i>Serenity</i> for 3D modeling. Smooth listening like Joe Hisaishi and Radical Face make a resurgence.',

	"0,2012": 'Second PennApps.',
	"1,2012": 'Discover Walk off the Earth; listen to 3 of their covers a total of 180 combined times in one month.',
	"2,2012": 'Now playing: Noah and the Whale',
	"3,2012": 'I spend a lot of time trying to programmatically draw a cube on my screen in CIS 277. I spend all my time programming with Emancipator on in the background.',
	"4,2012": 'Begin a software internship at Washington Post Labs. Work is a blast, but none of my music is on my work laptop. There\'s basically no data here because I used Pandora, which isn\'t linked to my last.fm account.',
	"5,2012": 'Split my time between DC and Maryland. Of Monsters and Men reminds me of the DC metro.',
	"6,2012": 'Begin semester abroad in Dunedin, New Zealand. Listens to Margot spike as my flatmate shows me an album of live recordings I haven\'t heard before.',
	"7,2012": 'Visit Australia for a week. Get caught in a snowstorm on top of Mount Wellington.',
	"8,2012": 'Beach House is popular on long drives across the South Island.',
	"9,2012": 'Spend the best 3 days of my life climbing and lazing in Wanaka. A couchsurfer named Henry sings a very good rendition of <i>Just A Boy</i> and rekindles my interest in Angus & Julia Stone.',
	"10,2012": 'Backpacking the North and South islands. Joe Hisaishi and The Antlers help me fall asleep in hostels.',
	"11,2012": 'Winter break. I listen to nothing but Radical Face and Lana Del Rey. No regrets.',
	"0,2013": 'Spring semester begins at Penn.',
};

var visiblePopup;
var storyPopup;
var tooltipHeight = 20;
var tooltipWidth = 120;
var storyTooltipWidth = 200;
var storyTooltipHeight = 20;
var hoverOffset = 7; 
var clickedStream = null;
var hoveredStream = null;
var startYear = 2009;
var artistIndex = {};
var lastHoveredArtistName;

// compute artist ranks
for (var i = 0; i < layers.length; i++){ 
	var artist = layers[i]["name"];
	artistIndex[artist] = i;
}

var m = 49; // samples per layer
var width = 3500,
		height = 600,
		mx = m -1,
		my = 1500;

var color = d3.scale.linear()
		.range(["#aad", "#556"]);

var stack = d3.layout.stack()
		.offset("wiggle")
		.values(function(d) { return d.values; });

var area = d3.svg.area()
		.x(function(d) { 
				return d.x * width / mx; 
		})
		.y0(function(d) { 
				output = height - d.y0 * height / my; 
				return output;
		})
		.y1(function(d) { 
				output = height - (d.y + d.y0) * height / my;
				return output;
		})
		.interpolate("basis");

var vis = d3.select("#chart")
	.append("svg")
		.attr("width", width)
		.attr("height", height)

populateXAxis();

// insert title
vis.append('text')
	//.text("the musical associations of kevin shen")
	.text("kevin shen's top 40 and what they mean")
	.attr("x", 5).attr("y", 25)
	.style('font-size', '18pt')


// populate graph
vis.selectAll("path")
	.data(stack(layers))
	.enter().append("path")
		.attr("d", function(d) { return area(d.values); })
		.style("fill", function() { return color(Math.random()); })
		.on("mouseover", pathMouseover)
		.on("mouseout", pathMouseOut)
		.on("click", onStreamClick);

var seekLine = vis.append('line')
	.attr("y1", height - 50)
	.attr("y2", 0)
	.attr("stroke-width", 1)
	.attr("stroke", "#4557A3");
seek(25, 0);

$("svg").mousemove(function(event) {
	seek(event.pageX, event.pageY);
});


function seek(x, y) {
	seekLine
		.attr("x1", x - hoverOffset)	
		.attr("x2", x - hoverOffset);

	var monthAndYear = getMonthAndYear(x).toString();
	var story = stories[monthAndYear];

	storyPopup = d3.select("#storyTooltip")
		.html(story)
		.style("min-height", storyTooltipHeight + "px")
		.style("width", storyTooltipWidth + "px")

	var h = $("#storyTooltip").outerHeight();
	var w = $("#storyTooltip").outerWidth();
	var yOffset = storyTooltipHeight;
	// flip horizontal if too close to edge
	if(x < w) {
		w = 0;
	}
	// flip vertical if too close to top
	/*
	if(y < h) {
		h = -h;
		yOffset = -yOffset;
	}
	*/

	storyPopup
		.style("margin-left", (x - w - hoverOffset)+"px") 
		.style("margin-top", (y - h - yOffset*3 - 1)+"px")
		.style("display", "block");
}

function getMonthAndYear(x) {
	var monthWidth = width / m;
	var monthsSinceBeginning = parseInt(x / monthWidth);
	var year = startYear + parseInt(monthsSinceBeginning / 12);
	var month = parseInt(monthsSinceBeginning % 12);
	return [month, year];
}

function onStreamClick(d, i) {
	if(clickedStream == null) {
		clickedStream = d3.select(this);
		d3.selectAll("path").style('display', 'none');
		clickedStream.style('display', 'block');
	}
	else {
		d3.selectAll("path").style('display', 'block');
		clickedStream = null;	
	}
}

$("path").mousemove(function(event) {
	var x = event.pageX; 
	var y = event.pageY; 

	renderArtistTooltip(x, y);
});

function pathMouseOut(d, i) {
	var color = d3.select(this).style('fill');
	var newColor = d3.rgb(color).darker(.3);
	d3.select(this).style("fill", newColor);
	visiblePopup.style("display", "none");
	hoveredStream = null;
}

function pathMouseover(d, i) {
	// highlight 
	var color = d3.select(this).style('fill');
	var newColor = d3.rgb(color).brighter(.3);
	hoveredStream = d3.select(this).style("fill", newColor);

	var x = d3.mouse(this)[0];
	var y = d3.mouse(this)[1];

	lastHoveredArtistName = d.name;

	renderArtistTooltip(x, y);
}

function renderArtistTooltip(x, y) {
	// get date for this month for this artist
	var date = getMonthAndYear(x); 
	var i = (date[1] - startYear) * 12 + date[0];
	var plays = layers[artistIndex[lastHoveredArtistName]]["values"][i]["y"];

	// insert html
	visiblePopup = d3.select("#artistTooltip")
		.html('<div class="artist">' + lastHoveredArtistName + '<br>' + plays + ' plays' + '</div>')
		.style("min-height", tooltipHeight + "px")
		.style("min-width", tooltipWidth + "px");

	// adjust margins to position near cursor
	var h = $("#artistTooltip").outerHeight();
	var w = $("#artistTooltip").outerWidth();
	var yOffset = tooltipHeight;
	// flip if too close to left edge of page
	if(x < w) {
		w = 0;	
	}
	/*
	if(y < h) {
		h = -h;
		yOffset = -yOffset;
	}
	*/

	visiblePopup
		.style("margin-left", (x - w - hoverOffset) + "px") 
		.style("margin-top", (y - h - yOffset) + "px")
		.style("display", "block");

}
/*
$("path").mousemove(function(event) {
	if(hoveredStream == null) { return; }

	var x = event.pageX; 
	var y = event.pageY; 
	var h = $("#artistTooltip").height();
	var w = $("#artistTooltip").width();
	var xOffset = 18;
	var yOffset = 14;

	// if we are near the left edge, flip tooltip to right side of cursor
	if(w > x) {
		x += w;
		//xOffset = -1*xOffset;
		xOffset = 0;
	}
	// if near top, flip to bottom side of cursor
	if(h > y) {
		y += h;
		yOffset = -1*yOffset;
	}

	var date = getMonthAndYear(x); 
	var i = (date[1] - startYear) * 12 + date[0];
	var plays = layers[artistIndex[lastHoveredArtistName]]["values"][i]["y"];


	visiblePopup = d3.select("#artistTooltip")
		.html('<div class="artist">' + lastHoveredArtistName + '</div>' +
				'<div>' + plays + " plays" + '</div>')
		.style("min-height", h + "px")
		.style("width", w + "px");

	visiblePopup
		.style("margin-left", (x - w - xOffset)+"px") // -9 for padding
		.style("margin-top", (y - h - yOffset)+"px")
		.style("display", "block");
});

function pathMouseOut(d, i) {
	var color = d3.select(this).style('fill');
	var newColor = d3.rgb(color).darker(.3);
	d3.select(this).style("fill", newColor);
	visiblePopup.style("display", "none");
	hoveredStream = null;
}

function pathMouseover(d, i) {
	var color = d3.select(this).style('fill');
	var newColor = d3.rgb(color).brighter(.3);
	hoveredStream = d3.select(this).style("fill", newColor);

	var xOffset = 14;
	var yOffset = 14;

	var x = d3.mouse(this)[0];
	var y = d3.mouse(this)[1];

	lastHoveredArtistName = d.name;

	// if we are near the left edge, flip tooltip to right side of cursor
	if(tooltipWidth > x) {
		x += tooltipWidth;
		//xOffset = -1*xOffset;
		xOffset = 0;
	}
	// if near top, flip to bottom side of cursor
	if(tooltipHeight > y) {
		y += tooltipHeight;
		yOffset = -1*yOffset;
	}

	// get # of plays for this artist during this month
	var date = getMonthAndYear(x); 
	var i = (date[1] - startYear) * 12 + date[0];
	var plays = layers[artistIndex[d.name]]["values"][i]["y"];

	// insert html
	visiblePopup = d3.select("#artistTooltip")
		.html('<div class="artist">' + d.name + '<br>' + plays + ' plays' + '</div>')
		.style("min-height", tooltipHeight + "px")
		.style("min-width", tooltipWidth + "px");

	// adjust margins to position near cursor
	var h = $("#artistTooltip").height();
	var w = $("#artistTooltip").width();
	visiblePopup
		.style("margin-left", (x - w - xOffset) + "px") 
		.style("margin-top", (y - h + yOffset) + "px")
		.style("display", "block");
}
*/

function populateXAxis() {
	var step = width / m;
	var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];

	var month = 0;
	var year = 2009;

	var printMonth = true;

	for(var x = 0; x < width; x += step) {
		vis.append('line')
			.attr("x1", x)	
			.attr("x2", x)
			.attr("y1", height - 50)
			.attr("y2", 0)
			.attr("stroke-width", .7)
			.attr("stroke", "#DBD5D7");

		// print every other month
		if(printMonth) {
			vis.append('text')
				.text(months[month])
				.attr("x", x).attr("y", height - 30)
				.style('font-size', '10pt');
			printMonth = false;
		}
		else {
			printMonth = true;
		}
		month = (month + 1) % 12;
	}

	var yearStep = width / (49 / 12);  //width / number of years 
	for(var x = 0; x < width; x += yearStep) {
		vis.append('text')
			.text(year)
			.attr("x", x).attr("y", height - 5)
			.style('font-size', '12pt')

		year++;
	}
}